<div class="d-flex flex-wrap justify-content-start align-items-center" [ngClass]="direction === 'horizontal' ? 'flex-row' : 'flex-column'">
  <div
    *ngFor="let documentContainer of documentContainers; trackBy: trackByDoc; let i = index"
    (click)="doShow(documentContainer, i)"
    class="my-document position-relative overflow-hidden m-1 border shadow-sm cursor-pointer"
    [class.disabled]="!viewable"
    [style.width]="cellWidth + 'px'"
    [style.height]="cellHeight + 'px'"
    [mcitTooltip]="documentContainer | attachMetadata"
  >
    <ng-container *ngIf="documentContainer.viewable; else fileIcon">
      <img [hidden]="!documentContainer.loaded" [src]="documentContainer.previewUrl | secure" style="object-fit: contain; width: 100%; height: 100%" (load)="onLoad(i)" />
      <ngx-loading [show]="!documentContainer.loaded" [config]="{ animationType: 'circleSwish' }"> </ngx-loading>
    </ng-container>
    <ng-template #fileIcon>
      <div class="d-flex flex-column justify-content-center align-items-center w-100 h-100 bg-gray-300">
        <i class="fas fa-file fa-3x" aria-hidden="true"></i>
        <small *ngIf="documentContainer?.name?.length" style="width: inherit" class="align-self-start pl-1 text-truncate"> {{ documentContainer?.name }}</small>
      </div>
    </ng-template>
  </div>
</div>
