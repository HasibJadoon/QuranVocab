<div class="app-json-modal-backdrop" *ngIf="open" (click)="onBackdropClick()">
  <div
    class="app-json-modal"
    role="dialog"
    aria-modal="true"
    (click)="$event.stopPropagation()"
  >
    <div class="app-json-modal-header">
      <h4 class="app-json-modal-title">{{ title }}</h4>
      <button type="button" class="btn btn-ghost btn-sm" (click)="close.emit()">Close</button>
    </div>
    <div class="app-json-modal-body">
      <label class="d-block w-100">
        <span>JSON</span>
        <ngx-codemirror
          class="app-json-modal-editor"
          [options]="editorOptions"
          [(ngModel)]="draft"
          (keydown)="onKeydown($event)"
        ></ngx-codemirror>
      </label>
      <p class="text-danger mt-2" *ngIf="displayError">{{ displayError }}</p>
    </div>
    <div class="app-json-modal-footer">
      <button type="button" class="btn btn-ghost" (click)="close.emit()">Cancel</button>
      <button type="button" class="btn btn-ghost" (click)="onFormat()">Format</button>
      <button type="button" class="btn btn-primary" (click)="onSave()">Save</button>
    </div>
  </div>
</div>
