<div class="task-json">
  <div class="task-json-actions" *ngIf="!readOnly">
    <button type="button" class="btn btn-ghost btn-sm" (click)="validate()">Validate JSON</button>
    <button type="button" class="btn btn-ghost btn-sm" (click)="format()">Format JSON</button>
  </div>
  <label>
    <span>{{ readOnly ? 'Task JSON (read-only)' : 'Task JSON' }}</span>
    <app-json-code-editor
      [value]="jsonValue"
      (valueChange)="jsonValue = $event"
      height="360px"
      [readonly]="readOnly"
    ></app-json-code-editor>
  </label>
  <div class="action-row" *ngIf="!readOnly">
    <button
      type="button"
      class="btn btn-primary"
      [disabled]="state.taskSavingType === taskType || !state.lessonId || !state.passageUnitId"
      (click)="save()"
    >
      {{ state.taskSavingType === taskType ? 'Saving...' : 'Save Task' }}
    </button>
  </div>
</div>
